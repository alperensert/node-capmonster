---
title: class CapmonsterClient
description: class CapmonsterClient API
---

## constructor

| Parameter | Type   | Required | Default value | Purpose                           |
| --------- | ------ | -------- | ------------- | --------------------------------- |
| clientKey | string | Yes      | -             | Your unique key to solve captchas |

## methods

### getBalance

Does not have any specific parameter, returns the current balance of specified api key.

### async getTaskResult

_@returns The solution of task if captcha is solved, otherwise null_

| Parameter | Type   | Required | Default value | Purpose                                                 |
| --------- | ------ | -------- | ------------- | ------------------------------------------------------- |
| taskId    | number | Yes      | -             | Task id which returned from a `createWithTask` function |

### async joinTaskResult

Wait until the task solved. If the task cannot be solved in time,
this function throws a [CapmonsterError](/api/capmonster-error) with following code: [ERROR_MAXIMUM_TIME_EXCEED](/more/error-types)

_@returns The solution of the task_

| Parameter | Type   | Required | Default value | Purpose                                                                     |
| --------- | ------ | -------- | ------------- | --------------------------------------------------------------------------- |
| taskId    | number | Yes      | -             | Task id which returned from a `createWithTask` function                     |
| timeout   | number | No       | 120           | Sets the timeout for the current execution of this function. _(as seconds)_ |

> This `timeout` parameter overrides the default timeout only once.
> If you want to override the default timeout value, see [setTimeout](#settimeout) function.

### convertCookies

| Parameter | Type   | Required | Default value | Purpose                   |
| --------- | ------ | -------- | ------------- | ------------------------- |
| cookies   | object | Yes      | -             | Convert cookies to string |

### setCallbackUrl

| Parameter | Type   | Required | Default value | Purpose                                        |
| --------- | ------ | -------- | ------------- | ---------------------------------------------- |
| url       | string | Yes      | -             | Sets the callback url for all tasks, globally. |

### unsetCallbackUrl

Does not have any specific parameter. Unsets the callback url for all tasks, globally.

### setTimeout

Sets the timeout for the entire client.

| Parameter | Type   | Required | Default value | Purpose                             |
| --------- | ------ | -------- | ------------- | ----------------------------------- |
| timeout   | number | Yes      | -             | As seconds, must between 1 and 300. |
