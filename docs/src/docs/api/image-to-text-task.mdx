---
title: class ImageToTextTask
description: class ImageToTextTask API
---

## extend

| Class            | Link                          |
| ---------------- | ----------------------------- |
| CapmonsterClient | [see](/api/capmonster-client) |

## constructor

| Parameter | Type   | Required | Default value | Purpose                           |
| --------- | ------ | -------- | ------------- | --------------------------------- |
| clientKey | string | Yes      | -             | Your unique key to solve captchas |

## methods

### async prepareImageFromLocal

_@returns_ **The image as converted to base64 string**

| Parameter | Type   | Required | Default value | Purpose                                                                                          |
| --------- | ------ | -------- | ------------- | ------------------------------------------------------------------------------------------------ |
| path      | string | Yes      | -             | Local image path. You should resolve the path with `path.resolve` before passing the parameter.. |

### async prepareImageFromLink

_@returns_ **The image as converted to base64 string**

| Parameter | Type   | Required | Default value | Purpose                                                             |
| --------- | ------ | -------- | ------------- | ------------------------------------------------------------------- |
| url       | string | Yes      | -             | External image link. Example: https://google.com/assets/captcha.png |

### async createTask

_@returns_ **ID of the created task**

| Parameter            | Type    | Required | Default value | Purpose                                                                                                                                                                                                                                                                                                   |
| -------------------- | ------- | -------- | ------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| image                | string  | Yes      | -             | Encode the image with base64 and pass as string                                                                                                                                                                                                                                                           |
| module               | string  | No       | -             | Name of recognizing module e.g _yandex_                                                                                                                                                                                                                                                                   |
| recognizingThreshold | number  | No       | -             | Captcha recognition threshold with a possible value from 0 to 100. For example, if a value of 90 was sent to the system, and the problem was solved with confidence of 80, then the money for the solution will not be charged. In this case, the user will receive an ERROR_CAPTCHA_UNSOLVABLE exception |
| \_case               | boolean | No       | -             | Whether to consider case when deciding or not                                                                                                                                                                                                                                                             |
| numeric              | number  | No       | 0             | **1** - if the captcha consists of numbers only                                                                                                                                                                                                                                                           |
| math                 | boolean | No       | -             | **true** - captcha requires a mathematical action (e.g captcha 2 + 6 = will return the value 8)                                                                                                                                                                                                           |

> `createTask` function is deprecated. Will be remove in
> the future. Please use `task` and `createWithTask` functions.

### task

Creates only the task configuration for reuseable tasks. <br/>
_@returns_ **Omit<[IImageToTextTaskRequest](/all-interfaces#iimagetotexttaskrequest), "type">**

| Parameter | Type                                                                             | Required | Default value |
| --------- | -------------------------------------------------------------------------------- | -------- | ------------- |
| task      | Omit<[IImageToTextTaskRequest](/all-interfaces#iimagetotexttaskrequest), "type"> | Yes      | -             |

### async createWithtask

Creates a image to text task for solving. <br/>
_@returns_ **ID of the created task**

| Parameter | Type                                                                             | Required | Default value |
| --------- | -------------------------------------------------------------------------------- | -------- | ------------- |
| task      | Omit<[IImageToTextTaskRequest](/all-interfaces#iimagetotexttaskrequest), "type"> | Yes      | -             |
